<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å¼ æ´‹çš„ä½œå“é›†</title>

<style>
/* ========== å…¨å±€æ ·å¼ ========== */
body{
    background:#1a1a1a;
    margin:0; padding:0;
    display:flex; flex-direction:column;
    align-items:center;
    font-family:"PingFang SC","Microsoft YaHei",sans-serif;
}

/* ä¸‹è½½æŒ‰é’® */
.header-container{
    width:100%; padding:60px 0 20px;
    display:flex; justify-content:center;
}
.download-btn{
    background:#007AFF;color:#fff;
    padding:16px 32px;border-radius:32px;
    font-size:16px;font-weight:bold;
    border:none;cursor:pointer;
    box-shadow:0 4px 20px rgba(0,0,0,.4);
    transition:.4s;
}
.download-btn.sticky{
    position:fixed;top:30px;right:30px;
    padding:10px 18px;font-size:13px;
    border-radius:10px;
}

/* ç”»å»Š */
.gallery{max-width:1200px;width:90%;padding-bottom:80px;}
.item{margin-bottom:46px;width:100%;
    background:#252525;overflow:hidden;border-radius:12px;
    box-shadow:0 12px 40px rgba(0,0,0,.6);min-height:380px;}
.item img{width:100%;opacity:0;transition:1s;}
.item.img-error{display:none!important}

/* è¿”å›é¡¶éƒ¨ */
#backToTop{
    position:fixed;bottom:40px;right:40px;
    width:55px;height:55px;border-radius:50%;
    border:none;font-size:24px;cursor:pointer;
    background:#333;color:#fff;display:none;
    box-shadow:0 4px 15px rgba(0,0,0,.5);
}

/* å¤´éƒ¨èƒ¶å›Šåˆ‡æ¢ */
.filter-bar{margin-bottom:22px;}
.capsule-toggle{
    background:#efefef;border-radius:999px;
    padding:4px;position:relative;
    display:flex;align-items:center;
}
.capsule-toggle button{
    border:none;background:none;padding:8px 26px;
    font-size:16px;cursor:pointer;opacity:.55;
}
.capsule-toggle button.active{opacity:1;font-weight:bold;}
.capsule-indicator{
    position:absolute;top:4px;bottom:4px;width:50%;
    background:white;border-radius:999px;
    transition:.25s;
}
.capsule-toggle.personal-active .capsule-indicator{transform:translateX(100%);}
.capsule-toggle.portfolio-active .capsule-indicator{transform:translateX(0%);}
</style>
</head>

<body>

<!-- ä¸‹è½½æŒ‰é’® -->
<div class="header-container">
    <button id="dlBtn" class="download-btn" onclick="downloadBoth()">ğŸ“¥ ä¸‹è½½ä½œå“é›† / ç®€å†</button>
</div>

<!-- èƒ¶å›Šåˆ‡æ¢ -->
<div class="filter-bar">
<div id="capsuleToggle" class="capsule-toggle portfolio-active">
    <div class="capsule-indicator"></div>
    <button id="btnPortfolio" class="active">ä½œå“é›†</button>
    <button id="btnPersonal">ä¸ªäººé¡¹ç›®</button>
</div>
</div>

<button id="backToTop">â†‘</button>
<div id="gallery" class="gallery"></div>

<script>
/* ä¸‹è½½ä½œå“é›†å’Œç®€å† */
function downloadBoth(){
    const files=[{url:'portfolio.pdf',name:'å¼ æ´‹ä½œå“é›†.pdf'},
                 {url:'resume.pdf',name:'å¼ æ´‹ç®€å†.pdf'}];
    files.forEach(f=>{
        const a=document.createElement("a");
        a.href=f.url;a.download=f.name;
        document.body.appendChild(a);a.click();a.remove();
    });
}

const gallery=document.getElementById('gallery');
const btnPortfolio=document.getElementById("btnPortfolio");
const btnPersonal=document.getElementById("btnPersonal");

/* ===== ä½ æ— éœ€ä¿®æ”¹ ===== */
/* ä½œå“é›†å›¾ç‰‡ 0.png ~ æ— é™æ”¯æŒ */
function loadPortfolio(){
    gallery.innerHTML="";
    let i=0;
    function loadNext(){
        let div=document.createElement("div");div.className="item";
        let img=document.createElement("img");
        img.src=i+".png";
        img.onload=()=>img.style.opacity=1;
        img.onerror=()=>{div.remove();return;}
        div.appendChild(img);gallery.appendChild(div);
        i++; if(i<200) loadNext(); /* å…è®¸æœªæ¥ç»§ç»­æ·»åŠ  */
    }
    loadNext();
}

/* ä¸ªäººé¡¹ç›® 1.png ~ 14.png è‡ªåŠ¨å±•ç¤º */
function loadPersonal(){
    gallery.innerHTML="";
    for(let i=1;i<=14;i++){
        let div=document.createElement("div");div.className="item";
        let img=document.createElement("img");
        img.src="ä¸ªäººé¡¹ç›®/"+i+".png";
        img.onload=()=>img.style.opacity=1;
        img.onerror=()=>div.remove();
        div.appendChild(img);gallery.appendChild(div);
    }
}

/* èƒ¶å›Šåˆ‡æ¢é€»è¾‘ */
btnPortfolio.onclick=()=>{
    capsuleToggle.className="capsule-toggle portfolio-active";
    btnPortfolio.classList.add("active");btnPersonal.classList.remove("active");
    loadPortfolio();
}
btnPersonal.onclick=()=>{
    capsuleToggle.className="capsule-toggle personal-active";
    btnPersonal.classList.add("active");btnPortfolio.classList.remove("active");
    loadPersonal();
}

/* é»˜è®¤è¿›å…¥ä½œå“é›† */
loadPortfolio();

/* å¸é™„æŒ‰é’®+å›é¡¶ */
window.onscroll=()=>{
    document.getElementById('dlBtn').classList.toggle('sticky',window.scrollY>200);
    document.getElementById('backToTop').style.display=window.scrollY>800?"block":"none";
}
backToTop.onclick=()=>window.scrollTo({top:0,behavior:"smooth"});
</script>

</body>
</html>
