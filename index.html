<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>å¼ æ´‹çš„ä½œå“é›†</title>

<style>
/* ========== 1. å…¨å±€æ ·å¼ ========== */
body{
    background:#1a1a1a;margin:0;padding:0;
    display:flex;flex-direction:column;align-items:center;
    font-family:"PingFang SC","Microsoft YaHei",sans-serif;
}

/* ========== 2. ä¸‹è½½æŒ‰é’® ========== */
.header-container{
    width:100%;padding:60px 0 20px;
    display:flex;justify-content:center;
}
.download-btn{
    background:#007AFF;color:#fff;
    padding:16px 32px;border-radius:32px;
    font-size:16px;font-weight:bold;
    border:none;cursor:pointer;
    box-shadow:0 4px 20px rgba(0,0,0,.4);
    transition:.4s;
}
.download-btn.sticky{
    position:fixed;top:30px;right:30px;
    padding:10px 18px;font-size:13px;
    border-radius:10px;
}

/* ========== 3. ä½œå“å±•ç¤ºåŒº ========== */
.gallery{
    max-width:1200px;width:90%;padding-bottom:80px;
}
.item{
    margin-bottom:46px;width:100%;
    background:#252525;border-radius:12px;
    overflow:hidden;min-height:380px;
    box-shadow:0 12px 40px rgba(0,0,0,.6);
}
.item img{
    width:100%;opacity:0;transition:1s;
}
.item.img-error{display:none!important}

/* ========== 4. å›åˆ°é¡¶éƒ¨æŒ‰é’® ========== */
#backToTop{
    position:fixed;bottom:40px;right:40px;
    width:55px;height:55px;border-radius:50%;
    font-size:24px;border:none;cursor:pointer;
    background:#333;color:#fff;display:none;
    box-shadow:0 4px 15px rgba(0,0,0,.5);
}

/* ========== 5. èƒ¶å›Šåˆ‡æ¢ ========== */
.filter-bar{
    margin-bottom:22px;
    display:flex;justify-content:center;
}

.capsule-toggle{
    position:relative;
    background:#efefef;
    border-radius:999px;
    padding:4px;
    display:flex;align-items:center;
    box-shadow:0 0 0 1px #ddd;
    overflow:hidden;
}

/* ç™½è‰²æ»‘å—ï¼ˆåœ¨ä¸‹å±‚ï¼‰ */
.capsule-indicator{
    position:absolute;
    top:4px;bottom:4px;
    width:50%;
    background:#fff;
    border-radius:999px;
    box-shadow:0 0 10px rgba(0,0,0,.08);
    transition:.25s;
    z-index:1;
}

/* æ–‡å­—æŒ‰é’®ï¼ˆåœ¨ä¸Šå±‚ï¼‰ */
.capsule-toggle button{
    position:relative;
    z-index:2;                 /* å…³é”®ï¼šæ–‡å­—åœ¨æ»‘å—ä¸Šé¢ */
    padding:8px 30px;
    font-size:15px;
    border:none;
    background:none;
    cursor:pointer;
    color:#666;
    transition:.25s;
    white-space:nowrap;
}

.capsule-toggle button.active{
    color:#000;
    font-weight:bold;
}

.capsule-toggle.portfolio-active .capsule-indicator{
    transform:translateX(0%);
}
.capsule-toggle.personal-active .capsule-indicator{
    transform:translateX(100%);
}
</style>
</head>

<body>

<!-- ä¸‹è½½æŒ‰é’® -->
<div class="header-container">
    <button id="dlBtn" class="download-btn" onclick="downloadBoth()">ğŸ“¥ ä¸‹è½½ä½œå“é›† / ç®€å†</button>
</div>

<!-- èƒ¶å›Šåˆ‡æ¢ -->
<div class="filter-bar">
    <div id="capsuleToggle" class="capsule-toggle portfolio-active">
        <div class="capsule-indicator"></div>
        <button id="btnPortfolio" class="active">ä½œå“é›†</button>
        <button id="btnPersonal">ä¸ªäººé¡¹ç›®</button>
    </div>
</div>

<button id="backToTop">â†‘</button>
<div id="gallery" class="gallery"></div>

<script>
/* åŒæ—¶ä¸‹è½½ä½œå“é›† + ç®€å† */
function downloadBoth(){
    const files=[
        {url:'portfolio.pdf',name:'å¼ æ´‹ä½œå“é›†.pdf'},
        {url:'resume.pdf',   name:'å¼ æ´‹ç®€å†.pdf'}
    ];
    files.forEach(f=>{
        const a=document.createElement("a");
        a.href=f.url;
        a.download=f.name;
        document.body.appendChild(a);
        a.click();
        a.remove();
    });
}

const gallery      = document.getElementById('gallery');
const btnPortfolio = document.getElementById('btnPortfolio');
const btnPersonal  = document.getElementById('btnPersonal');

/* ä½œå“é›†ï¼šæ ¹ç›®å½• 0~200.pngï¼ˆå­˜åœ¨æ‰æ˜¾ç¤ºï¼‰ */
function loadPortfolio(){
    gallery.innerHTML = "";
    for(let i=0;i<=200;i++){
        const box = document.createElement("div");
        const img = document.createElement("img");
        box.className = "item";
        img.src = i + ".png";
        img.onload  = () => img.style.opacity = 1;
        img.onerror = () => box.remove();
        box.appendChild(img);
        gallery.appendChild(box);
    }
}

/* ä¸ªäººé¡¹ç›®ï¼š/ä¸ªäººé¡¹ç›®/1~14.png */
function loadPersonal(){
    gallery.innerHTML = "";
    for(let i=1;i<=14;i++){
        const box = document.createElement("div");
        const img = document.createElement("img");
        box.className = "item";
        img.src = "ä¸ªäººé¡¹ç›®/" + i + ".png";
        img.onload  = () => img.style.opacity = 1;
        img.onerror = () => box.remove();
        box.appendChild(img);
        gallery.appendChild(box);
    }
}

/* æŒ‰é’®åˆ‡æ¢é€»è¾‘ */
btnPortfolio.onclick = () => {
    capsuleToggle.className = "capsule-toggle portfolio-active";
    btnPortfolio.classList.add("active");
    btnPersonal.classList.remove("active");
    loadPortfolio();
};
btnPersonal.onclick = () => {
    capsuleToggle.className = "capsule-toggle personal-active";
    btnPersonal.classList.add("active");
    btnPortfolio.classList.remove("active");
    loadPersonal();
};

/* é»˜è®¤æ˜¾ç¤ºä½œå“é›† */
loadPortfolio();

/* æ»šåŠ¨æ—¶ï¼šä¸‹è½½æŒ‰é’®å¸é¡¶ + å›åˆ°é¡¶éƒ¨ */
window.onscroll = () => {
    document.getElementById('dlBtn')
        .classList.toggle('sticky', window.scrollY > 200);
    document.getElementById('backToTop')
        .style.display = window.scrollY > 800 ? "block" : "none";
};
backToTop.onclick = () => window.scrollTo({top:0,behavior:"smooth"});
</script>

</body>
</html>
